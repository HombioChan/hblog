## 序言
使用`git merge`合并分支修改并不是一帆风顺的，如果出现相同文件被同时修改的情况，那么大概率会出现冲突。


### 如何解决冲突
解决冲突最直接的办法，就是打开冲突文件，通过编辑组个编辑冲突，完成之后提交。

由于是人工处理，这个编辑过程比较容易出错，最好使用IDE提供的工具来编辑。


### 撤销合并
#### 出现了冲突
```
git merge --abort
```
如果明确了只认当前分支的最新代码，可以再次合并
```
git merge --Xours
```
如果是取合并分支的为最新代码
```
git merge --Xtheirs
```
#### 未出现冲突
如果合并提交还没有同步到远程仓库，可以使用下面的命令
```
git reset --hard HEAD~
```
如果已经同步到了远程仓库，使用下面命令
```
git revert -m 1 HEAD
```
表示保留主线上的修改，还原合并分支引入的修改。

这虽然可以起到撤销合并的作用，但是有个副作用：合并分支已经被认为已经合并入主线分支，只是被还原了而已，合并分支的修改永远无法在主线分支体现出来。

要修复这个副作用，只能再还原以下，假设上述还原之后生成的提交为 M，那么
```
git revert M
```
执行上述命令后，表示还原之前的还原，负负得正，即最新的提交看上去啥也没改。
